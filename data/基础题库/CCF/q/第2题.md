# 坐标变换（其二）

## 题目描述

定义两种操作：1. 拉伸 k 倍：坐标变为 (kx, ky)；2. 旋转 θ：坐标绕原点逆时针旋转 θ 弧度。给定包含 n 个操作的序列，处理 m 个查询，每个查询给出区间 [i, j] 和坐标 (x, y)，求坐标经过操作 ti 到 tj 后的新坐标。

## 测试数据

### 测试用例 1 - 基本测试：样例输入 (原始数据)

**输入：**
```
10 5
2 0.59
2 4.956
1 0.997
1 1.364
1 1.242
1 0.82
2 2.824
1 0.716
2 0.178
2 4.094
1 6 -953188 -946637
1 9 969538 848081
4 7 -114758 522223
1 9 -535079 601597
8 8 159430 -511187
```

**输出：**
```
-1858706.758 -83259.993
-1261428.46 201113.678
-75099.123 -738950.159
-119179.897 -789457.532
114151.88 -366009.892
```

### 测试用例 2 - 基本测试：先拉伸后旋转90度 (原始数据)

**输入：**
```
2 1
1 2.0
2 1.57079632679
1 2 1 0
```

**输出：**
```
0.0 2.0
```

### 测试用例 3 - 基本测试：单个拉伸操作 (原始数据)

**输入：**
```
1 1
1 0.5
1 1 100 200
```

**输出：**
```
50.0 100.0
```

### 测试用例 4 - 边界条件：无操作序列 (AI补充)

**输入：**
```
0 1
1 1 5 5
```

**输出：**
```
5 5
```

### 测试用例 5 - 边界条件：拉伸系数乘积在边界内 (AI补充)

**输入：**
```
3 1
1 1000.0
1 0.001
1 1.0
1 3 1 1
```

**输出：**
```
1.0 1.0
```

### 测试用例 6 - 特殊情况：旋转360度（2π）应回到原位置 (AI补充)

**输入：**
```
2 1
2 3.14159265359
2 3.14159265359
1 2 1 0
```

**输出：**
```
1.0 0.0
```

## 题目信息

- **难度**: 中等
- **标签**: 数学, 几何, 前缀和
