# UI颜色主题统一更新

## 更新日期
2024年

## 主题配色方案

### 核心颜色
- **主背景色**: `#242424` (深灰黑)
- **主题强调色**: `#660000` (深红)

### 完整配色表
| 用途 | 颜色代码 | 说明 |
|------|---------|------|
| 主背景 | `#242424` | 深灰黑 - 主要背景色 |
| 次背景 | `#2d2d2d` | 中灰 - 次要背景（已弃用，统一为#242424） |
| 三级背景 | `#363636` | 浅灰 - 三级背景 |
| 主题深红 | `#660000` | 深红色 - 按钮、强调元素 |
| 深红悬停 | `#880000` | 深红悬停态 |
| 更深红 | `#440000` | 深红按下态 |
| 主文本 | `#e8e8e8` | 浅灰白 - 主要文本 |
| 次文本 | `#b0b0b0` | 中灰 - 次要文本 |
| 禁用文本 | `#707070` | 深灰 - 禁用状态 |
| 边框 | `#3a3a3a` | 深灰 - 主要边框 |
| 浅边框 | `#4a4a4a` | 中灰 - 次要边框 |

## 更新的文件列表

### UI组件
1. **src/ui/MainWindow.cpp**
   - 状态栏背景色: `#252525` → `#242424`
   - 分隔条颜色: `#3d3d3d` → `#3a3a3a`
   - 分隔条悬停: `#0078d4` → `#660000`
   - 测试结果显示样式统一为主题色
   - 错误提示颜色: `#a04545` → `#660000`

2. **src/ui/SettingsDialog.cpp**
   - 按钮背景: `#8b3a3a` → `#660000`
   - 按钮悬停: `#a04545` → `#880000`
   - 按钮按下: `#6b2d2d` → `#440000`
   - 输入框背景: `#2d2d2d` → `#242424`

3. **src/ui/WrongQuestionWidget.cpp**
   - 表格背景: `#353535` → `#242424`
   - 表格选中: `#8b3a3a` → `#660000`
   - 表头背景: `#404040` → `#242424`
   - 按钮样式统一为主题色
   - 难度颜色简化为主题色系
   - 状态颜色统一

4. **src/ui/OriginalQuestionDialog.cpp**
   - 文本浏览器背景: `#2d2d2d` → `#242424`
   - 标签页背景统一
   - 按钮样式统一
   - 测试用例显示背景: `#404040` → `#242424`
   - 代码块背景: `#2a2a2a` → `#242424`
   - 难度颜色统一

5. **src/ui/QuestionListWidget.cpp**
   - 难度颜色统一:
     - 简单: `#5cb85c` → `#e8e8e8`
     - 中等: `#f0ad4e` → `#b0b0b0`
     - 困难: `#d9534f` → `#660000`

6. **src/utils/ErrorHandler.cpp**
   - 消息框背景: `#2d2d2d` → `#242424`
   - 按钮样式已使用主题色（无需修改）

### 样式管理器
7. **src/ui/StyleManager.h**
   - 定义了所有颜色常量
   - 作为全局颜色配置中心

8. **src/ui/StyleManager.cpp**
   - 所有样式方法使用颜色常量
   - 确保全局样式一致性

## 设计原则

### 1. 简洁统一
- 移除了过多的颜色变体（绿色、橙色等）
- 统一使用深灰黑和深红两个主色调
- 保持视觉一致性

### 2. 层次分明
- 使用不同深浅的灰色表示层次
- 深红色用于强调和交互元素
- 文本颜色根据重要性分级

### 3. 可读性
- 主文本使用 `#e8e8e8` 确保在深色背景上清晰可读
- 次要信息使用 `#b0b0b0` 降低视觉权重
- 保持足够的对比度

### 4. 交互反馈
- 按钮三态明确：正常、悬停、按下
- 使用深红色系提供清晰的交互反馈
- 选中状态使用主题色突出显示

## 弃用的颜色

以下颜色已从代码中移除：
- `#8b3a3a` (旧的酒红色按钮)
- `#a04545` (旧的悬停色)
- `#6b2d2d` (旧的按下色)
- `#5cb85c` (绿色 - 成功状态)
- `#f0ad4e` (橙色 - 警告状态)
- `#d9534f` (红色 - 错误状态)
- `#5a9a5a` (浅绿)
- `#d4a04e` (浅橙)
- `#353535` (中灰背景)
- `#404040` (深灰背景)
- `#2a2a2a` (更深灰背景)
- `#252525` (状态栏背景)
- `#0078d4` (蓝色强调)

## 验证结果

✅ 所有UI组件颜色已统一
✅ 编译成功无错误
✅ 样式管理器正确使用颜色常量
✅ 视觉一致性得到保证

## 后续维护

### 添加新UI组件时
1. 优先使用 `StyleManager` 提供的样式方法
2. 如需自定义样式，使用 `StyleManager.h` 中定义的颜色常量
3. 避免硬编码颜色值

### 修改主题色时
1. 只需修改 `StyleManager.h` 中的颜色常量
2. 重新编译即可应用到所有组件
3. 保持颜色定义的集中管理

## 效果预览

### 主要改进
- 🎨 视觉风格更加统一和专业
- 🔴 深红色主题更加突出和醒目
- ⚫ 深灰黑背景提供更好的沉浸感
- 📱 整体UI更加现代化和简洁

### 用户体验提升
- 更清晰的视觉层次
- 更一致的交互反馈
- 更舒适的长时间使用体验
- 更专业的整体观感
