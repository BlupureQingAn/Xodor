# 代码刷题系统 - 功能演示

## 🎬 核心功能演示

### 1. 题库管理 📚

#### 导入题库
```
操作：文件 → 导入题库 (Ctrl+I)
1. 选择题库文件夹
2. 系统自动解析 Markdown 文件
3. 显示导入结果
4. 自动加载第一题
```

#### 刷新题库
```
操作：文件 → 刷新题库 (F5)
- 重新加载题库 JSON 文件
- 保持当前题目位置
- 适用于题库文件更新后
```

#### 重新加载题库
```
操作：文件 → 重新加载题库 (Ctrl+R)
1. 清空当前题库
2. 选择新的题库文件夹
3. 重新导入所有题目
4. 从第一题开始
```

---

### 2. 题目浏览 🔍

#### 题目列表
```
位置：左侧侧边栏
功能：
- 显示所有题目
- 实时搜索（输入标题关键词）
- 难度筛选（简单/中等/困难）
- 点击快速跳转
- 显示题目编号和难度
```

#### 题目切换
```
方式一：使用按钮
- 点击"上一题"按钮
- 点击"下一题"按钮
- 循环浏览（最后一题后回到第一题）

方式二：题目列表
- 在左侧列表中点击题目
- 双击快速跳转

方式三：快捷键
- 工具栏导航按钮
```

---

### 3. 代码编辑 ✏️

#### 编辑器功能
```
特性：
- C++ 语法高亮
- 行号显示
- 自动缩进
- 自动补全（输入2个字符后）
- Tab 宽度：4 空格
```

#### 自动保存
```
机制：
- 停止输入 300ms 后自动保存
- 保存到：data/user_answers/[题目ID].json
- 包含：代码内容、最后修改时间
- 下次打开自动加载
```

#### 代码模板
```
操作：代码 → 插入模板
模板列表：
1. 基础模板 - 最简单的 main 函数
2. 输入输出模板 - cin/cout 处理
3. 数组处理模板 - vector 操作
4. 字符串处理模板 - string 处理
5. 算法模板 - 包含常用头文件

使用：
- 选择模板
- 自动插入到编辑器
- 开始编写代码
```

---

### 4. 编译测试 🔧

#### 编译流程
```
操作：点击"▶ 运行测试"或按 F5

步骤：
1. 获取当前代码
2. 创建临时文件
3. 调用编译器编译
4. 显示编译结果

成功：
- 继续运行测试用例

失败：
- 显示错误对话框
- 提供错误原因
- 给出解决建议
```

#### 测试执行
```
流程：
1. 读取题目的测试用例
2. 逐个运行测试
3. 对比输入输出
4. 记录测试结果

超时控制：
- 每个测试用例最多 5 秒
- 超时自动终止
```

#### 结果展示
```
显示内容：
- 每个测试用例的结果（✓/✗）
- 通过的用例：绿色标记
- 失败的用例：
  - 红色标记
  - 显示输入
  - 显示期望输出
  - 显示实际输出
  - 显示错误信息
- 总体通过率（百分比）

全部通过：
- 弹出祝贺对话框

部分失败：
- 自动添加到错题本
```

---

### 5. AI 分析 🤖

#### 代码分析
```
操作：点击"🤖 AI分析代码"或按 F6

流程：
1. 获取题目描述和用户代码
2. 构建分析提示词
3. 发送到 Ollama 服务
4. 等待 AI 响应
5. 显示分析结果

分析内容：
- 代码思路
- 代码优点
- 改进建议
  - 时间复杂度优化
  - 空间复杂度优化
  - 代码可读性
  - 边界条件处理
- 涉及知识点
- 参考代码（可选）
```

#### AI 配置
```
Ollama 本地模型：
- 服务地址：http://localhost:11434
- 模型名称：qwen
- 需要先启动服务：ollama serve

云端 API（可选）：
- 支持 OpenAI 兼容 API
- 配置 API Key
- 用于备用或更强大的分析
```

---

### 6. 错题本 📕

#### 自动记录
```
触发条件：
- 测试用例未全部通过
- 自动添加到错题本

记录内容：
- 题目 ID 和标题
- 难度
- 用户代码
- 错误原因（通过率）
- 尝试时间
- 尝试次数
```

#### 查看错题
```
操作：工具 → 错题本 (Ctrl+W)

显示信息：
- 题目标题
- 难度（颜色标识）
- 错误次数
- 最后尝试时间
- 状态（已解决/未解决）

筛选功能：
- 全部：显示所有错题
- 未解决：只显示未解决的

操作：
- 标记已解决/未解决
- 双击题目快速跳转
- 清空错题本
```

---

### 7. 历史记录 📊

#### 查看历史
```
操作：历史 → 查看做题记录 (Ctrl+H)

显示内容：
- 题目 ID
- 难度
- 状态（已保存）
- 最后修改时间
- 代码行数

功能：
- 查看所有做过的题目
- 了解学习进度
```

---

### 8. 设置管理 ⚙️

#### 打开设置
```
操作：工具 → 设置 (Ctrl+,)
```

#### 编译器设置
```
功能：
1. 浏览选择编译器
   - 打开文件选择对话框
   - 选择编译器可执行文件

2. 测试编译器
   - 验证编译器是否可用
   - 显示版本信息

3. 自动检测
   - 搜索系统中的编译器
   - 显示检测结果
   - 一键应用
```

#### AI 设置
```
Ollama 配置：
- 服务地址
- 模型名称

云端 API 配置：
- API Key（密码显示）
```

#### 编辑器设置
```
可配置项：
- 字体大小（8-16pt）
- Tab 宽度（2/4/8 空格）
```

---

### 9. 会话管理 💾

#### 自动保存
```
保存内容：
- 题库路径
- 当前题目索引
- 窗口大小和位置
- 停靠窗口状态

保存时机：
- 程序退出时
- 自动保存

保存位置：
- data/last_session.json
```

#### 自动恢复
```
恢复内容：
- 上次的题库
- 上次的题目位置
- 窗口状态

恢复时机：
- 程序启动时
- 自动恢复

提示：
- 状态栏显示恢复信息
```

---

### 10. 错误处理 🛡️

#### 编译错误
```
处理：
- 识别常见编译错误
- 显示错误原因
- 提供解决建议

示例：
- 语法错误 → 检查分号、括号
- 未定义引用 → 检查函数定义
- 参数不匹配 → 检查函数调用
```

#### 网络错误
```
处理：
- 识别网络问题
- 显示错误原因
- 提供解决建议

示例：
- 连接被拒绝 → 检查 Ollama 服务
- 超时 → 检查网络连接
```

#### 文件错误
```
处理：
- 识别文件问题
- 显示错误原因
- 提供解决建议

示例：
- 权限拒绝 → 检查文件权限
- 文件不存在 → 检查路径
```

#### 错误日志
```
位置：data/logs/error.log

内容：
- 时间戳
- 错误类型
- 错误消息
- 详细信息

用途：
- 问题诊断
- 错误追踪
```

---

## 🎯 使用场景

### 场景 1：日常刷题
```
1. 启动程序（自动恢复上次状态）
2. 继续上次的题目
3. 使用代码模板快速开始
4. 编写代码（自动保存）
5. 运行测试查看结果
6. 使用 AI 分析学习
7. 切换到下一题
```

### 场景 2：复习错题
```
1. 打开错题本（Ctrl+W）
2. 筛选未解决的题目
3. 双击题目跳转
4. 重新编写代码
5. 运行测试
6. 全部通过后标记已解决
```

### 场景 3：导入新题库
```
1. 准备 Markdown 格式题目
2. 导入题库（Ctrl+I）
3. 系统自动解析
4. 开始刷题
```

### 场景 4：题库更新
```
1. 更新题库文件
2. 刷新题库（F5）
3. 继续当前题目
```

---

## 💡 高级技巧

### 1. 快速导航
- 使用题目列表快速跳转
- 使用搜索快速查找
- 使用筛选器过滤难度

### 2. 高效编码
- 使用代码模板
- 善用自动补全
- 利用自动保存

### 3. 学习优化
- 查看 AI 分析
- 复习错题本
- 总结常见模式

### 4. 自定义配置
- 调整编辑器字体
- 配置编译器
- 设置 AI 服务

---

**功能演示完毕！开始你的刷题之旅吧！🚀**
