以下是整理好的第38次CCF计算机软件能力认证（CSP）模拟试题集合。

---

# 第38次CCF计算机软件能力认证

## 题目 1：正态分布 (Normal Distribution)

**时间限制：** 1.0 秒
**空间限制：** 512 MiB

### 题目描述

对于正态分布随机变量 $X \sim N(\mu, \sigma^2)$（均值 $\mu$、标准差 $\sigma$），查表计算 $P(X \le n)$。

具体来说，我们首先需要将 $X$ 转换为标准正态分布 $Z$：
$$ Z = \frac{X - \mu}{\sigma} $$

那么 $X \le n$ 的概率也就等于 $Z \le \frac{n - \mu}{\sigma}$ 的概率：
$$ P(X \le n) = P\left(Z \le \frac{n - \mu}{\sigma}\right) $$

而对于服从标准正态分布的 $Z$，其小于等于某值的概率 $P(Z \le m)$ 可以通过查表得出。题目假设有一张表（图略），展示了 $m$ 取值从 $0.00$ 到 $1.49$ 的结果（步长 $0.01$），其中每列对应 $m$ 的百分位、每行对应 $m$ 的十分位和整数部分。

在本题中你需要模拟上述查表的过程，处理 $k$ 个如下查询：对于给定的参数 $\mu$、$\sigma$ 和 $n$，计算 $P(X \le n)$ 的结果在表中的哪一行、哪一列？

其中行列下标均从 1 开始：

* **行**：$0.0$ 对应第 1 行，$0.1$ 对应第 2 行，依此类推……
* **列**：$0.00, 0.01, \dots, 0.09$ 依次对应第 1、第 2 到第 10 列。

### 输入格式

从标准输入读入数据。
输入的第一行包含一个正整数 $k$，表示查询的个数。
接下来输入 $k$ 行，每行包含空格分隔的三个整数 $\mu$、$\sigma$ 和 $n$，表示一个查询。

### 输出格式

输出到标准输出。
每个查询输出一行，包含空格分隔的两个整数 $i$ 和 $j$，表示查询的结果位于表中第 $i$ 行、第 $j$ 列。

### 样例输入

```text
4
0 1 1
2 10 127
2 50 227
5 100 350
```

### 样例输出

```text
11 1
126 1
46 1
35 6
```

### 样例解释

第一个查询等价于计算 $P(Z \le \frac{1-0}{1})$，即 $P(Z \le 1.00)$。
$1.0$ 对应第 11 行（$0.0$ 是第 1 行），$0.00$ 对应第 1 列。

### 子任务

全部的数据满足：

* $k \le 20$；
* 参数 $\mu$、$\sigma$ 和 $n$ 均为整数；
* $0 \le \mu \le n \le 1000$；
* $1 \le \sigma \le 100$ 且标准差 $\sigma$ 是 $100$ 的因子。

---

## 题目 2：机器人复健指南 (Robot Rehabilitation Guide)

**时间限制：** 1.0 秒
**空间限制：** 512 MiB

### 题目背景

西西艾弗岛某山脉深处出土了一台远古机器人，初步修缮后，研究人员尝试操控机器人进行些简单的移动。

### 题目描述

整个实验场地被划分为 $n \times n$ 个方格，从 $(1,1)$ 到 $(n,n)$ 进行编号。机器人只能在这些方格间移动，不能走出场地范围。

假设机器人当前位于 $(x,y)$，那么接下来可以向周围八个方向跳跃移动（如果目标方格在场地范围内）。
*(注：根据样例推断，此处的“跳跃移动”指的是国际象棋中**马（Knight）**的走法，即横向或纵向移动2格，另一方向移动1格)*

若机器人只能跳动不超过 $k$ 步，场地内有多少方格（包括起始位置）可以抵达？

### 输入格式

从标准输入读入数据。
输入的第一行包含空格分隔的两个正整数 $n$ 和 $k$，分别表示场地大小和跳动步数。
输入的第二行包含空格分隔的两个正整数 $x$ 和 $y$，表示机器人的起始位置（保证位于场地内）。

### 输出格式

输出到标准输出。
输出一个整数，表示 $k$ 步内可以抵达的方格总数。

### 样例 1

**输入：**

```text
4 1
1 1
```

**输出：**

```text
3
```

**解释：** 从 (1,1) 一步可以跳到 (2,3) 和 (3,2)，加上起点共 3 个。

### 样例 2

**输入：**

```text
4 2
1 1
```

**输出：**

```text
8
```

### 子任务

* 80% 的测试数据满足：$k \le 3$；
* 全部的测试数据满足：$n, k$ 均大于 0 且不超过 100。

---

## 题目 3：消息解码 (Message Decoding)

**时间限制：** 2.0 秒
**空间限制：** 512 MiB

### 题目背景

西西艾弗岛上的居民经常使用一种短消息服务，每条消息仅需 72 个比特。信息包含收发双方的代号和发送方的位置。
代号包含 1 到 11 个字符（大写字母、数字、下划线）。
**典型代号**：长 5 到 6 位，依次由 1-2 位数字或大写字母、1 位数字和 3 位字母组成。
位置编号：1 至 32400。

### 题目描述

#### 代号的数字表示

将不足 11 位的代号结尾补空格至 11 位。字符映射：空格=0，0-9=1~10，A-Z=11~36，_=37。
计算公式：$\sum_{i=1}^{11} \text{char}[i] \times 38^{11-i}$。

#### 典型代号的短数字表示

将 5 位代号开头补空格至 6 位。
字符映射：

* 第 1 字符：空格=0, 0-9=1~10, A-Z=11~36
* 第 2 字符：0-9=0~9, A-Z=10~35
* 第 3 字符：0-9=0~9
* 第 4-6 字符：A-Z=0~25
  计算公式：
  $C_1 \times 36 \times 10 \times 26^3 + C_2 \times 10 \times 26^3 + C_3 \times 26^3 + C_4 \times 26^2 + C_5 \times 26^1 + C_6 \times 26^0$

#### 代号的散列值

由代号的数字表示计算 $n$ 位散列值：

1. 计算代号的数字表示 $V$。
2. $H = (V \times 47055833459) / 2^{64-n}$ (取整)。
3. 结果为 $H \pmod{2^n}$。

#### 消息格式

1. **简单消息**（第 1 位是 0）：
   
   * 第 2-29 位（28 bits）：接收方代号。
   * 第 30-57 位（28 bits）：发送方代号。
   * 第 58-72 位（15 bits）：发送方位置（0表示无位置）。
   * 代号表示：若是散列值，则为 25 位散列值；若是典型代号，则为短数字表示 + $2^{25}$。

2. **复杂消息**（第 1 位是 1）：
   
   * 第 2-59 位（58 bits）：一方代号的完整数字表示。
   * 第 60-71 位（12 bits）：另一方代号的 12 位散列值。
   * 第 72 位（1 bit）：0 表示“首先的一方”是发送方，1 表示“首先的一方”是接收方。

#### 推断规则

解析时，若遇到散列值，需根据**此前收到消息中出现过的**代号进行匹配（包括简单消息的短数字代号和复杂消息的完整数字代号，但不包括推断出的代号）。

* 若有多个匹配，使用最后收到的消息中出现的代号。
* 若同一消息中双方都匹配，优先使用该消息发送方的代号。
* 如果无法推断，用 `###` 表示。
* 推断出的代号前加 `#`。

### 输入格式

第一行一个整数 $n$，表示消息数量。
接下来 $n$ 行，每行一个 72 位的 0/1 字符串。

### 输出格式

输出 $n$ 行，每行格式：`接收方代号 发送方代号 [位置编号]`。

### 子任务

* 部分数据仅含复杂消息或简单消息。
* $n \le 10^5$。

---

## 题目 4：月票发行 (Monthly Ticket Issuance)

**时间限制：** 4.0 秒
**空间限制：** 512 MiB

### 题目描述

月票编号为长度为 $n$ 的字符串，由小写字母和 `#` 组成。

* 其中有且仅有 $m$ 个固定位置为 `#`。
* 其余 $n-m$ 个位置可填任意小写字母。

**要求：**

1. `ccf` 和 `cspark` 两种子串均出现至少一次。
2. 至少存在一对 `ccf` 和 `cspark`，满足 `ccf` 在 `cspark` 左侧（前面）。

求可发行的月票总数，结果对 $998244353$ 取模。

### 输入格式

第一行包含两个正整数 $n$ 和 $m$。
接下来一行包含 $m$ 个正整数 $a_1, \dots, a_m$，表示井号的位置。

### 输出格式

输出一个整数，表示结果。

### 样例 1

**输入：**

```text
12 1
11
```

**输出：**

```text
2028
```

### 样例 2

**输入：**

```text
14 2
4 8
```

**输出：**

```text
35151
```

### 子任务

* $n \le 15$ (30分)
* $n \le 10^5$ (30分)
* $n \le 10^9, m \le 10^4$ (30分)
* 无特殊限制 (10分)
* 所有数据：$9 \le n \le 10^9, 1 \le m \le \min(n, 10^6)$。

---

## 题目 5：博物馆 (Museum)

**时间限制：** 1.0 秒
**空间限制：** 512 MiB

### 题目描述

西西艾弗岛有 $n$ 个路口和 $m$ 条无向道路。每个路口都有旅馆。
小 C 收集了 $q$ 份一日游攻略，第 $i$ 份包含 $c_i$ 个博物馆，位于不同的路口。
**突发情况**：明天恰好有一个路口施工（不可通过）。
对于一份攻略，定义 $f(x)$：若第 $x$ 个路口施工，两人今晚按**最优策略**选择旅馆（路口 $u$），明天最多能游览的攻略中博物馆的数量。

* 能游览博物馆 $v$ 的条件：存在一条从 $u$ 到 $v$ 的路径不经过 $x$。
* 若 $x=u$ 或 $x=v$，则该博物馆无法游览。

任务：对每份攻略，计算 $\sum_{j=1}^{n} f(j)$。

### 输入格式

第一行三个正整数 $n, m, q$。
接下来 $m$ 行，每行 $u, v$，表示道路。
接下来 $q$ 行，每行第一个数 $c_i$，后跟 $c_i$ 个路口编号，表示攻略中的博物馆位置。

### 输出格式

输出 $q$ 行，每行一个整数表示该攻略的答案。

### 样例 1

**输入：**

```text
7 9 1
1 2
1 3
2 3
1 4
1 5
4 5
1 6
1 7
6 7
3 2 3 4
```

**输出：**

```text
17
```

### 子任务

* $n, q \le 100$ (15分)
* 图是一条链 (15分)
* 图是树 ($m=n-1$) (30分)
* 无特殊限制 (40分)
* 所有数据：$n, q \le 10^5, m \le 2 \times 10^5, \sum c_i \le 3 \times 10^5$。图是简单无向连通图。
