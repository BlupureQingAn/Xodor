# 代码刷题系统 v1.2.0 发布说明

## 🎉 重大更新

### 🎨 全新UI设计
- **圆润酒红色主题**：优雅的灰红配色，视觉更舒适
- **圆角设计**：所有组件采用圆角设计（8-12px），更加现代化
- **统一样式系统**：`StyleManager` 统一管理所有样式
- **更好的视觉层次**：清晰的背景层次和边框设计

### 🔧 编译器自动检测
- 自动搜索系统中的 g++、clang++ 等编译器
- 支持多个常见路径（MinGW、LLVM、Qt Tools等）
- 启动时自动验证并配置
- 未找到编译器时提供友好提示和解决方案

### 💾 会话持久化
- 自动保存上次打开的题库
- 记住当前做到哪一题
- 保存窗口大小、位置和停靠状态
- 启动时自动恢复学习状态

### 📝 代码模板系统
- 5种内置模板：
  - 基础模板
  - 输入输出模板
  - 数组处理模板
  - 字符串处理模板
  - 算法模板
- 菜单快速插入
- 支持自定义模板

### 🛡️ 统一错误处理
- **智能错误识别**：自动识别编译错误、网络错误、文件错误等
- **友好的错误提示**：清晰的错误说明和解决建议
- **错误日志**：自动记录所有错误到日志文件
- **美观的错误对话框**：与主题一致的样式设计

### 🔍 测试用例解析优化
- 支持多种格式：
  - 标准格式：`输入: xxx` / `输出: yyy`
  - 英文格式：`Input: xxx` / `Output: yyy`
  - 代码块格式：\`\`\` 包裹的测试用例
- 更智能的解析算法
- 支持多行输入输出
- 更好的容错性

---

## 📊 改进详情

### UI/UX 改进

#### 颜色方案
```
主背景：#2a2a2a（深灰）
次背景：#353535（中灰）
三级背景：#404040（浅灰）
主题色：#8b3a3a（酒红色）
悬停色：#a04545（亮酒红）
按压色：#6b2d2d（深酒红）
文本色：#e8e8e8（浅灰白）
```

#### 圆角设计
- 按钮：12px
- 输入框：10px
- 文本框：12px
- 列表项：8px
- 滚动条：7px

#### 间距优化
- 按钮内边距：12px 24px
- 列表项内边距：12px 16px
- 容器边距：8px

### 功能改进

#### 编译器检测
```cpp
// 自动检测流程
1. 搜索 PATH 中的编译器
2. 检查常见安装路径
3. 验证编译器可用性
4. 获取版本信息
5. 自动配置最佳编译器
```

#### 错误处理
```cpp
// 错误类型
- Compile: 编译错误
- Network: 网络错误
- FileIO: 文件错误
- Configuration: 配置错误
- Runtime: 运行时错误

// 错误级别
- Info: 信息
- Warning: 警告
- Error: 错误
- Critical: 严重错误
```

#### 测试用例解析
```markdown
支持的格式：

1. 标准格式
输入: 1 2 3
输出: 6

2. 英文格式
Input: hello
Output: olleh

3. 代码块格式
```
输入数据
```
```
期望输出
```
```

---

## 🐛 Bug 修复

- 修复分隔条显示过于突兀的问题
- 修复中文编码问题
- 修复 MOC 编译错误
- 修复内存泄漏风险
- 修复文件路径问题

---

## 📈 性能提升

- 优化题目加载速度
- 减少不必要的重绘
- 改进内存管理
- 优化网络请求

---

## 🔄 升级指南

### 从 v1.0/v1.1 升级

1. **备份数据**（可选）
   ```
   data/user_answers/  # 用户代码
   data/config.json    # 配置文件
   ```

2. **替换程序**
   - 下载新版本
   - 替换 `CodePracticeSystem.exe`

3. **首次启动**
   - 程序会自动检测编译器
   - 自动恢复上次的学习状态
   - 应用新的UI主题

### 配置迁移

配置文件格式未变，无需手动迁移。

---

## 💡 使用建议

### 新用户
1. 首次启动会自动检测编译器
2. 导入示例题库：`data/sample_questions`
3. 尝试使用代码模板快速开始

### 老用户
1. 体验新的UI主题
2. 尝试代码模板功能（菜单 → 代码 → 插入模板）
3. 查看错误日志：`data/logs/error.log`

---

## 🎯 下一步计划

### v1.3.0（2周后）
- [ ] 错题本功能
- [ ] 图形化设置界面
- [ ] 进度统计图表
- [ ] 代码对比功能

### v2.0.0（长期）
- [ ] 多语言支持（Python、Java）
- [ ] 主题切换
- [ ] 在线题库同步
- [ ] AI 题目生成

---

## 📝 已知问题

1. **QScintilla 主题**：代码编辑器主题暂未完全适配新配色
2. **高DPI支持**：部分高DPI屏幕可能显示模糊
3. **Linux/Mac**：暂未在 Linux/Mac 上测试

---

## 🙏 致谢

感谢所有用户的反馈和建议！

---

**发布日期**: 2024-11-29  
**版本**: v1.2.0  
**状态**: ✅ 稳定版本  
**下载**: [GitHub Releases](https://github.com/your-repo/releases)
