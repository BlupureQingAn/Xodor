# 代码编辑器增强 - VSCode体验

## 功能需求

### 1. 括号自动补全
- 输入 `(` 自动补全 `)`
- 输入 `{` 自动补全 `}`
- 输入 `[` 自动补全 `]`
- 输入 `"` 自动补全 `"`
- 输入 `'` 自动补全 `'`
- 智能跳过已存在的闭合括号

### 2. 实时语法检查
- 编译器实时检查语法错误
- 在编辑器中显示错误标记
- 错误列表面板显示所有错误
- 点击错误跳转到对应位置

### 3. AI修复功能
- 右键菜单"AI修复此错误"
- 快捷按钮"一键修复所有错误"
- AI分析错误并提供修复建议
- 自动应用修复或让用户选择

## 实现方案

### 括号补全
- 重写CodeEditor的keyPressEvent
- 检测括号输入并自动插入配对符号
- 光标定位到中间位置

### 语法检查
- 创建SyntaxChecker类
- 使用QTimer延迟检查（避免频繁编译）
- 调用编译器获取错误信息
- 解析编译器输出提取错误位置

### 错误显示
- 在QScintilla中使用Indicator标记错误
- 创建ErrorListWidget显示错误列表
- 实现错误跳转功能

### AI修复
- 集成OllamaClient
- 发送错误代码和错误信息给AI
- 解析AI返回的修复建议
- 应用修复到代码

## 文件修改
- `src/ui/CodeEditor.h/cpp` - 增强编辑器功能
- `src/utils/SyntaxChecker.h/cpp` - 新建语法检查器
- `src/ui/ErrorListWidget.h/cpp` - 新建错误列表组件
- `src/ui/MainWindow.cpp` - 集成错误列表面板
