# UI工具栏清理和默认代码优化

## 问题描述

### 1. 工具栏按钮重复
软件上方横排工具栏有多余的按钮：
- 上一题/下一题
- 运行测试
- AI分析

这些按钮在刷题模式界面中已经有了，工具栏上的重复按钮显得冗余。

### 2. 默认代码不合理
点击运行测试后，默认的空main函数会报错运行失败：
```cpp
int main() {
    
    return 0;
}
```

这个代码没有读取输入，对于需要输入的题目会直接失败。

## 解决方案

### 1. 清理工具栏
移除工具栏上重复的按钮，只保留：
- 📊 题库列表 (Ctrl+P)
- ✏️ 刷题模式 (Ctrl+E)
- 🤖 AI导入题库 (Ctrl+I)

**修改位置**：`src/ui/MainWindow.cpp` - `setupToolBar()` 方法

**修改内容**：
```cpp
// 移除了以下按钮：
// - ⬅ 上一题
// - ➡ 下一题
// - ▶ 运行测试 (F5)
// - 🤖 AI分析 (F6)

// 这些功能在刷题模式界面中已经提供，保持工具栏简洁
```

### 2. 优化默认代码模板
创建更合理的默认代码模板，包含输入输出框架：

**新增方法**：`QString MainWindow::generateDefaultCode(const Question &question)`

**新模板**：
```cpp
#include <iostream>
using namespace std;

int main() {
    // TODO: 读取输入
    // 提示：根据题目要求读取输入数据
    
    // TODO: 处理逻辑
    // 提示：在这里实现题目要求的算法
    
    // TODO: 输出结果
    // 提示：按照题目要求的格式输出结果
    
    return 0;
}
```

**优点**：
- 提供了清晰的代码结构
- 有TODO注释提示用户需要做什么
- 包含了基本的输入输出框架
- 不会因为缺少输入处理而直接失败

### 3. 应用默认代码的位置
修改了三个使用默认代码的地方：

1. **加载题目时**（`loadSavedCode` 方法）
   - 如果没有保存的代码，使用新模板

2. **查看原题后重新开始**（`OriginalQuestionDialog` 回调）
   - 清空代码时使用新模板

3. **首次打开题目**
   - 使用新模板而不是空main函数

## 修改的文件
1. `src/ui/MainWindow.h` - 添加 `generateDefaultCode` 方法声明
2. `src/ui/MainWindow.cpp` - 实现新方法并修改工具栏和默认代码

## 效果
✅ 工具栏更简洁，不再有重复按钮
✅ 刷题模式界面的按钮功能完整（上一题、下一题、运行测试、AI分析）
✅ 默认代码提供了更好的起点，有清晰的TODO提示
✅ 新手用户能更容易理解需要做什么
✅ 减少因空代码导致的测试失败困惑

## 编译说明
代码已修改完成，无语法错误。
如果编译失败显示 "Permission denied"，请先关闭正在运行的程序，然后重新编译：
```cmd
cmake --build build --config Release
```
